<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenManus Web</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <!-- å¼•å…¥ä»£ç é«˜äº® -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <!-- å¼•å…¥å­—ä½“å›¾æ ‡ -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- å¼•å…¥Markdownè§£æå™¨ -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>
  <body>
    <div class="app-container">
      <!-- å·¦ä¾§æ–‡ä»¶æ ‘ -->
      <div class="file-explorer">
        <div class="file-explorer-header">
          <h3>å·¥ä½œåŒºæ–‡ä»¶</h3>
          <div class="file-actions">
            <button id="new-file-btn" title="æ–°å»ºæ–‡ä»¶">
              <i class="fas fa-file-medical"></i>
            </button>
            <button id="new-folder-btn" title="æ–°å»ºæ–‡ä»¶å¤¹">
              <i class="fas fa-folder-plus"></i>
            </button>
            <button id="refresh-files" title="åˆ·æ–°æ–‡ä»¶åˆ—è¡¨">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
        </div>
        <div class="file-tree" id="file-tree">
          <div class="loading">åŠ è½½ä¸­...</div>
        </div>
      </div>

      <!-- ä¸­é—´ç¼–è¾‘åŒº -->
      <div class="editor-container">
        <div class="editor-header">
          <span id="current-file-path">æœªæ‰“å¼€æ–‡ä»¶</span>
        </div>
        <div class="editor-content" id="editor-content">
          <div class="empty-editor">
            <i class="fas fa-file-alt"></i>
            <p>ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æ‰“å¼€</p>
          </div>
        </div>
      </div>

      <!-- å³ä¾§èŠå¤©çª—å£ -->
      <div class="chat-container">
        <div class="chat-header">
          <h3>ä¸ OpenManus èŠå¤©</h3>
        </div>
        <div class="chat-messages" id="chat-messages">
          <div class="welcome-message">
            <div class="message system">
              <div class="message-content">
                ğŸ‘‹ æ¬¢è¿ä½¿ç”¨ OpenManus Web ç•Œé¢ï¼åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥ä¸ AI
                åŠ©æ‰‹å¯¹è¯ï¼Œç®¡ç†å·¥ä½œåŒºæ–‡ä»¶ã€‚
              </div>
            </div>
          </div>
        </div>
        <div class="chat-input-container">
          <textarea
            id="chat-input"
            placeholder="è¾“å…¥æ¶ˆæ¯ï¼ŒæŒ‰ Shift+Enter æ¢è¡Œ..."
          ></textarea>
          <button id="send-message" title="å‘é€æ¶ˆæ¯">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- å¼•å…¥ Socket.IO å®¢æˆ·ç«¯ -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <!-- å¼•å…¥è‡ªå®šä¹‰è„šæœ¬ -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>

    <script>
      // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæ¬¢è¿æç¤º
      document.addEventListener("DOMContentLoaded", function () {
        // å»¶è¿Ÿ500msæ˜¾ç¤ºæ¬¢è¿æç¤ºï¼Œä»¥ä¾¿ç­‰å¾…toastç³»ç»Ÿåˆå§‹åŒ–
        setTimeout(() => {
          if (typeof toast !== "undefined") {
            toast.info("æ¬¢è¿ä½¿ç”¨OpenManus Webç•Œé¢", { duration: 5000 });
          }
        }, 500);
      });
    </script>
  </body>
</html>
